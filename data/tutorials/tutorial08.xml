<?xml version="1.0" encoding="UTF-8"?>
<!--
Tutorial 08 - Authentication
-->
<tutorial status="beta">
    <!-- Activity metadata ... override anything from the course or organizer -->
    
    <!-- The meat of the presentation -->
    <slide title="Tutorial Goals" layout="normal">
        <p>This tutorial is meant to give you some practice working with
            simple programmatic authentication, as described in lesson 10.</p>
        <p>I have prepared a starter project for you to build on.
            It is a webapp, which doesn't do much useful other
            than provide a base for the tutorial.</p>
    </slide>

    <slide>
        <h1>Revisions &amp; Notes</h1>    
        <ul>
            <li>This tutorial is in progress, and not ready yet. </li>
        </ul>            
    </slide>
    
    <slide title="Background" layout="normal">
        <p>This webapp, for the "Top Secret Government Site", has
            three controllers and content pages, each intended to be accessible
            to a different audience.</p>
        <p>As it comes, all three pages are visible to anyone.</p>
        <p>We will add simple authentication, authorization and access
            control, to enforce the intended security.</p>
    </slide>

    <slide title="Preparation" layout="normal">
        <div class="left">
            <p>I have prepared a 
                <a href="https://github.com/comp4711/winter2015-lab08" target="_blank">
                    starter project</a>. </p>
            <p>Fork the github project, and clone it locally to
                work with, the same as you have done with the previous tutorials.</p>
            <p>When you run it, you should see the homepage to the right.</p>
        </div>
        <div class="right">
            <br/>
            <img class="scale" width="600" height="261" src="/data/tutorials/pix/8-1.png"/>
        </div>    
    </slide>

    <slide title="The End Result" layout="normal">
        <div class="left">
            <p>Once we are done, the webapp will have authentication,
                and it will only show those menu items that the logged in
                user is allowed to see, shown right.</p>
        </div>
        <div class="right">
            <br/>
            <img class="scale" width="600" height="261" src="/data/tutorials/pix/8-0.png"/>
        </div>    
    </slide>

    <slide title="What Needs Doing?" layout="normal">
        <ol>
            <li>
                <a href="#{tag1}">Setup our database</a>
            </li>
            <li>
                <a href="#{tag2}">Add a login form</a>
            </li>
            <li>
                <a href="#{tag3}">Add an authentication controller</a>
            </li>
            <li>
                <a href="#{tag4}">Add authorization constraints</a>
            </li>
            <li>
                <a href="#{tag5}">Add access control constraints</a>
            </li>
            <li>
                <a href="#{tag6}">Tailor the output per the user's role</a>
            </li>
        </ol>
    </slide>

    <slide title="SETUP OUR DATABASE" layout="normal" tag="tag1">
        <div class="left">
            <ul>
                <li>Using PHPmyadmin, create a database for this project, called "secrets".</li>
                <li>Configure your webapp to autoload the 'database' library.</li>
                <li>Configure your database to reference the "secrets" database.</li>
            </ul>
        </div>
        <div class="right">
            <p>When run, your webapp should look no different than before.
            Most importantly, it should not break!</p>
            <br/>
            <img class="scale" width="600" height="261" src="/data/tutorials/pix/8-0.png"/>
        </div>
    </slide>

    <slide title="Configure Sessions" layout="normal" >
        <p>Create a ci_sessions table, using the sessions.sql script in data/.</p>
        <p>Configure the sessions by modifying config/config, adding an encryption
        key and enabling database usage for your sessions.</p>

    </slide>

   <slide title="Enable Sessions" layout="normal" >
        <p>Create a ci_sessions table, using the sessions.sql script in data/.</p>
        <p>Configure the sessions by modifying config/config, adding an encryption
        key and enabling database usage for your sessions.</p>

    </slide>

    <slide title="LOGIN FORM" layout="normal" tag="tag2">
    </slide>

    <slide title="AUTHENTICATION" layout="normal" tag="tag3">
    </slide>

    <slide title="AUTHORIZATION" layout="normal" tag="tag4">
    </slide>

    <slide title="ACCESS CONTROL" layout="normal" tag="tag5">
    </slide>

    <slide title="TAILORED MENU" layout="normal" tag="tag6">
    </slide>

 

</tutorial>
